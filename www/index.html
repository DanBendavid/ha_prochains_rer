<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Travel Time</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto:900i"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500"
      rel="stylesheet"
    />
    <script src="./prochains-rer.js"></script>
    <style>
      body {
        margin: 0px;
        font-family: Roboto, sans-serif;
      }
    </style>
    <script>
      function setRERData(elt) {
        elt.setConfig({
          type: 'custom:x-prochains-rer',
          icon: 'c',
          entities: ['sensor.prochains_rer'],
          dev: true,
        });
        elt.hass = {
          themes: { darkmode: true },
          states: {
            'sensor.prochains_rer': {
              state: 25,
              attributes: {
                friendly_name: 'Prochains RER',
                api: 'transilien',
                last_update: 'last_update: "2020-11-30T16:18:51.617050"',
                trains: [
                  {
                    date: new Date().setMinutes(new Date().getMinutes() + 4),
                    etat: '',
                    mission: 'PAUL',
                    terminus: 'AUSTERLITZ',
                    num: '148442-148443',
                  },
                  {
                    date: new Date().setMinutes(new Date().getMinutes() + 13),
                    etat: '',
                    mission: 'SARA',
                    terminus: 'ORLY VILLE',
                    num: '148844-148845',
                  },
                ],
              },
            },
          },
        };
      }

      function setMetroData(elt) {
        elt.setConfig({
          type: 'custom:x-prochains-rer',
          entities: ['sensor.prochains_metros'],
          icon: 10,
          dev: true,
        });
        elt.hass = {
          themes: { darkmode: true },
          states: {
            'sensor.prochains_metros': {
              state: 25,
              attributes: {
                friendly_name: 'Prochains Metro',
                api: 'ratp',
                last_update: 'last_update: "2020-11-30T16:18:51.617050"',
                trains: [
                  {
                    date: new Date().setMinutes(new Date().getMinutes() + 4),
                    etat: '',
                    terminus: 'AUSTERLITZ',
                  },
                  {
                    date: new Date().setMinutes(new Date().getMinutes() + 13),
                    etat: '',
                    terminus: 'ORLY VILLE',
                  },
                ],
              },
            },
          },
        };
      }
    </script>
  </head>
  <body>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const elt = document.createElement('x-prochains-rer');
        setMetroData(elt);
        document.body.appendChild(elt);
      });
    </script>
  </body>
</html>
